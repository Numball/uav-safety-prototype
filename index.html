<!DOCTYPE html>
<html>
  <!-- <head> -->
    <title>UAV Safety Check Prototype</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      body, html { margin: 0; padding: 0; height: 100%; }
      #map { height: 100%; width: 100%; }
      .menu {
        position: absolute; top: 10px; left: 10px;
        background: white; padding: 10px; border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      }
    </style>
  </head>
  <body>
    <!-- Hamburger menu -->
    <div class="menu">
      <input id="address" type="text" placeholder="Enter address" size="40">
      <button onclick="geocodeAddress()">Find</button>
    </div>

    <!-- Map -->
    <div id="map"></div>

    <script>
      let map, geocoder;

      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 18.5204, lng: 73.8567 }, // Pune default
          zoom: 12,
        });

        geocoder = new google.maps.Geocoder();

        // Drop waypoint by clicking
        map.addListener("click", (event) => {
          new google.maps.Marker({
            position: event.latLng,
            map: map,
          });
          alert("Waypoint: " + event.latLng.lat() + ", " + event.latLng.lng());
        });
      }

      function geocodeAddress() {
        const address = document.getElementById("address").value;
        geocoder.geocode({ address: address }, (results, status) => {
          if (status === "OK") {
            map.setCenter(results[0].geometry.location);
            new google.maps.Marker({
              map: map,
              position: results[0].geometry.location,
            });
            alert("Geocoded Location: " + results[0].geometry.location.toString());
          } else {
            alert("Geocode failed: " + status);
          }
        });
      }
    </script>

    <!-- Replace YOUR_API_KEY with your actual Google Maps API key -->
    <script async
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCuNEM4vkbcyLrR_zHe40XxDYuMMDQmE90&callback=initMap">
    </script>
  </body>
</html>
